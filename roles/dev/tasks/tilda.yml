---

- include_vars: tilda.yml

- name: install tilda
  apt:
    name: tilda
  become: yes
  become_user: root

- name: create tilda configuration directory
  file:
    path: "{{ config_directory }}"
    state: directory

- name: set tilda configuration
  file:
    src: "{{ config_source }}"
    dest: "{{ config_destination }}"
    state: link

- name: edit tilda icon path
  lineinfile:
    dest: "/usr/share/applications/tilda.desktop"
    regexp: '^Icon='
    line: "Icon=utilities-terminal"
  become: yes
  become_user: root
